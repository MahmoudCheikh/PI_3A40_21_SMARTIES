{% extends 'base_back.html.twig' %}

{% block title %}Sujet index{% endblock %}

{% block main %}

    <div class="row">
        <div class="col-lg-1"></div>
        <div class="col-lg-10">
            <h3><i class="fa fa-angle-right"></i> Sujet index</h3>
            <a href="{{ path('sujet_new') }}">Create new</a>
            <div class="row mb">
                <!-- page start-->
                <div class="content-panel">
                    <div class="adv-table">
                        <table cellpadding="0" cellspacing="0" border="0" class="display table table-bordered"
                               id="hidden-table-info">
                            <thead>
                            <tr>
                                <th>Id</th>
                                <th>IdPost</th>
                                <th>Date</th>
                                <th>Titre</th>
                                <th>Contenu</th>
                                <th>actions</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for sujet in sujets %}
                                <tr>
                                    <td>{{ sujet.id }}</td>
                                    <td>{{ sujet.IdPost }}</td>
                                    <td>{{ sujet.Date ? sujet.Date|date('Y-m-d') : '' }}</td>
                                    <td>{{ sujet.titre }}</td>
                                    <td>{{ sujet.contenu }}</td>
                                    <td>
                                        <a href="{{ path('sujet_show', {'id': sujet.id}) }}">show</a>
                                        <a href="{{ path('sujet_edit', {'id': sujet.id}) }}">edit</a>
                                    </td>
                                </tr>
                            {% else %}
                                <tr>
                                    <td colspan="6">no records found</td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- page end-->

            </div>
            <div class="col-lg-1"></div>
        </div>
    </div>

    </div>
    <div class="col-lg-1"></div>

    <!-- /row -->
{% endblock %}

{% block jstable %}
    <script type="text/javascript" language="javascript" src={{ asset("lib/advanced-datatable/js/jquery.js")}}></script>
    <script type="text/javascript" language="javascript" src={{ asset("lib/advanced-datatable/js/jquery.dataTables.js")}}></script>
    <script type="text/javascript" src={{ asset("lib/advanced-datatable/js/DT_bootstrap.js")}}></script>
    <script type="text/javascript">
        function fnFormatDetails(oTable, nTr) {
            var aData = oTable.fnGetData(nTr);
            return sOut;
        }

        $(document).ready(function() {
            var nCloneTh = document.createElement('th');
            var nCloneTd = document.createElement('td');
            nCloneTd.innerHTML = '<img src={{ asset("lib/advanced-datatable/images/details_open.png")}}>';
            nCloneTd.className = "center";

            var oTable = $('#hidden-table-info').dataTable({
                "aoColumnDefs": [{
                    "bSortable": false,
                    "searchable":false,
                    "aTargets": [5]
                }],
                "aaSorting": [
                    [0, 'asc']
                ]
            });

        });
    </script>
{% endblock %}
